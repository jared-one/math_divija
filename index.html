<!DOCTYPE html>
<html lang="en">
<head>
    <!-- 1. Metadata and SEO -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometric Problem: Area Ratio of Nonagons</title>
    <meta name="description" content="A detailed step-by-step solution to the geometric problem of finding the area ratio between two regular nonagons.">

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Geometric Problem: Area Ratio of Nonagons">
    <meta property="og:description" content="A detailed step-by-step solution to the geometric problem of finding the area ratio between two regular nonagons.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="#"> <!-- Placeholder for actual URL -->
    <meta property="og:image" content="#"> <!-- Placeholder for an image of the diagram -->

    <!-- 2. Styling and Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Serif+4:opsz,wght@8..60,400;600&display=swap" rel="stylesheet">
    
    <!-- KaTeX for Mathematical Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" xintegrity="sha384-sCutEFUTflVtb9CzdCCB1T2BscV1N2u5a+Ipc2kjkN1Sdsf23x2p9e9m2TYL2Q9M" crossorigin="anonymous">

    <style>
        /* CSS for styling the page */
        :root {
            --color-background: #fdfdfd;
            --color-surface: #ffffff;
            --color-text: #2c3e50;
            --color-heading: #2c3e50;
            --color-primary: #3498db;
            --color-primary-dark: #2980b9;
            --color-accent: #e67e22;
            --color-border: #ecf0f1;
            
            --font-body: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            --font-heading: 'Source Serif 4', 'Georgia', serif;
            
            --border-radius: 8px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.07);
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: var(--font-body);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.7;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem 1rem;
        }
        .main-container {
            width: 100%;
            max-width: 800px;
            background-color: var(--color-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--color-border);
            overflow: hidden;
        }
        header { padding: 2rem; background-color: var(--color-primary); color: white; }
        header h1 { font-family: var(--font-heading); font-size: 1.8rem; line-height: 1.2; margin-bottom: 0.5rem; }
        header p { font-size: 1rem; opacity: 0.9; }
        main { padding: 2rem; }
        .solution-summary, .derivation { margin-bottom: 2.5rem; }
        .section-title { font-family: var(--font-heading); font-size: 1.5rem; color: var(--color-heading); border-bottom: 2px solid var(--color-primary); padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
        .final-answer { background-color: #eaf5fd; border-left: 5px solid var(--color-primary); padding: 1.5rem; margin: 1.5rem 0; border-radius: 0 var(--border-radius) var(--border-radius) 0; }
        .final-answer p { margin-bottom: 1rem; }
        .final-expression { font-weight: 600; color: var(--color-primary-dark); text-align: center; font-size: 1.2em; }
        .steps { list-style: none; counter-reset: steps-counter; }
        .step { display: flex; align-items: flex-start; gap: 1.5rem; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid var(--color-border); }
        .step:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .step-number { counter-increment: steps-counter; display: flex; justify-content: center; align-items: center; flex-shrink: 0; width: 40px; height: 40px; background-color: var(--color-accent); color: white; font-weight: 700; border-radius: 50%; font-size: 1.2rem; }
        .step-number::before { content: counter(steps-counter); }
        .step-content h4 { font-family: var(--font-heading); font-size: 1.2rem; margin-bottom: 0.5rem; color: var(--color-heading); }
        .toggle-button { display: inline-flex; align-items: center; gap: 0.5rem; background-color: var(--color-primary); color: white; border: none; padding: 0.75rem 1.5rem; font-size: 1rem; font-weight: 600; border-radius: var(--border-radius); cursor: pointer; transition: background-color 0.2s ease, transform 0.2s ease; }
        .toggle-button:hover, .toggle-button:focus-visible { background-color: var(--color-primary-dark); transform: translateY(-2px); outline: 2px solid var(--color-primary-dark); outline-offset: 2px; }
        .toggle-button .icon { transition: transform 0.3s ease-in-out; }
        .details-container { overflow: hidden; transition: max-height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.5s ease; max-height: 2000px; opacity: 1; }
        .details-container.collapsed { max-height: 0; opacity: 0; }
        .katex-display { margin: 1em 0; }
        .katex { font-size: 1.2em !important; }
        footer { text-align: center; margin-top: 2rem; font-size: 0.9rem; color: #7f8c8d; }
        @media (max-width: 600px) {
            body { padding: 1rem 0.5rem; }
            header, main { padding: 1.5rem; }
            header h1 { font-size: 1.5rem; }
            .section-title { font-size: 1.3rem; }
            .step { flex-direction: column; align-items: stretch; }
            .step-number { align-self: flex-start; margin-bottom: 0.5rem; }
        }
    </style>
</head>

<body>

    <div class="main-container">
        <header>
            <h1>Geometric Problem Analysis</h1>
            <p>Finding the Area Ratio of Nested Regular Polygons</p>
        </header>

        <main>
            <section class="solution-summary">
                <h2 class="section-title">Problem Summary & Result</h2>
                <p>The problem asks for the fraction of the area of a regular nonagon $N$ that is covered by a smaller, inner nonagon $S$, which is formed by drawing line segments at each vertex of $N$ perpendicular to the preceding edge.</p>
                <div class="final-answer">
                    <p>The final ratio of Area($S$) to Area($N$) is:</p>
                    <div class="final-expression">
                        \[ \frac{\text{Area}(S)}{\text{Area}(N)} = \frac{1 - \cos 40^\circ}{1 + \cos 40^\circ} \]
                    </div>
                </div>
            </section>

            <section class="derivation">
                <h2 class="section-title">Detailed Derivation</h2>
                <button id="toggleDetailsBtn" class="toggle-button" aria-expanded="true" aria-controls="details-container">
                    Hide Details 
                    <span class="icon" aria-hidden="true">â–²</span>
                </button>

                <div id="details-container" class="details-container">
                    <ol class="steps">
                        <li class="step">
                            <div class="step-number" aria-hidden="true"></div>
                            <div class="step-content">
                                <h4>Strategy: Ratio of Apothems</h4>
                                <p>Since $N$ and $S$ are similar regular polygons, the ratio of their areas is the square of the ratio of their apothems (inradii), $r_N$ and $r_S$.</p>
                                \[\frac{\text{Area}(S)}{\text{Area}(N)} = \left(\frac{r_S}{r_N}\right)^2\]
                            </div>
                        </li>
                        <li class="step">
                            <div class="step-number" aria-hidden="true"></div>
                            <div class="step-content">
                                <h4>Geometric Angles</h4>
                                <p>A nonagon's central angle per side is $\frac{360^\circ}{9} = 40^\circ$. Let $O$ be the center and $V_1, V_2$ be consecutive vertices. The triangle $\triangle OV_1V_2$ has base angles of $\frac{180^\circ - 40^\circ}{2} = 70^\circ$.</p>
                            </div>
                        </li>
                        <li class="step">
                            <div class="step-number" aria-hidden="true"></div>
                            <div class="step-content">
                                <h4>Apothem of Outer Nonagon (N)</h4>
                                <p>The apothem $r_N$ is the altitude from $O$ to side $V_1V_2$. In the right triangle formed by this altitude, with hypotenuse $R_N$ (circumradius), the angle at the center is $20^\circ$.</p>
                                \[r_N = R_N \cos(20^\circ)\]
                            </div>
                        </li>
                        <li class="step">
                            <div class="step-number" aria-hidden="true"></div>
                            <div class="step-content">
                                <h4>Apothem of Inner Nonagon (S)</h4>
                                <p>A side of $S$ is drawn from $V_2$ perpendicular to the edge $V_1V_2$. The angle between the radius $OV_2$ and this new side is $90^\circ - 70^\circ = 20^\circ$. The apothem $r_S$ is the perpendicular distance from $O$ to this side.</p>
                                \[r_S = R_N \sin(20^\circ)\]
                            </div>
                        </li>
                        <li class="step">
                            <div class="step-number" aria-hidden="true"></div>
                            <div class="step-content">
                                <h4>Ratio Calculation</h4>
                                <p>We compute the ratio of the apothems and square it to find the area ratio.</p>
                                \[\frac{r_S}{r_N} = \frac{R_N \sin(20^\circ)}{R_N \cos(20^\circ)} = \tan(20^\circ)\]
                                \[\frac{\text{Area}(S)}{\text{Area}(N)} = (\tan(20^\circ))^2 = \tan^2(20^\circ)\]
                            </div>
                        </li>
                        <li class="step">
                            <div class="step-number" aria-hidden="true"></div>
                            <div class="step-content">
                                <h4>Trigonometric Simplification</h4>
                                <p>Using the half-angle identity for tangent squared, $\tan^2(x) = \frac{1 - \cos(2x)}{1 + \cos(2x)}$, we substitute $x = 20^\circ$.</p>
                                \[\frac{\text{Area}(S)}{\text{Area}(N)} = \frac{1 - \cos(2 \cdot 20^\circ)}{1 + \cos(2 \cdot 20^\circ)} = \frac{1 - \cos(40^\circ)}{1 + \cos(40^\circ)}\]
                            </div>
                        </li>
                    </ol>
                </div>
            </section>
        </main>
    </div>
    
    <footer>
        <p>made with love from Jared to Divija.</p>
    </footer>

    <!-- KaTeX and Interactive JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" xintegrity="sha384-hIoEbK/G8rDdXoA3sACeYdSnjilJ2bNnB2GRiQe3s+wLXDvfsEStFGoNa/aSA8c1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" xintegrity="sha384-43gviWU0YVjaDtb/GpZv7MmxfvPJUv+UT1lDMyoUe9EVn33DONVbSAnLgTpb5g0W" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Render all math expressions on the page
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '\\[', right: '\\]', display: true},
                    {left: '$', right: '$', display: false},
                    {left: '\\(', right: '\\)', display: false}
                ]
            });
            
            // Attach event listener for the interactive toggle button
            const toggleBtn = document.getElementById('toggleDetailsBtn');
            const detailsContainer = document.getElementById('details-container');
            const icon = toggleBtn.querySelector('.icon');

            toggleBtn.addEventListener('click', function() {
                const isExpanded = this.getAttribute('aria-expanded') === 'true';

                if (isExpanded) {
                    detailsContainer.classList.add('collapsed');
                    this.setAttribute('aria-expanded', 'false');
                    this.childNodes[0].nodeValue = 'Show Details ';
                    icon.style.transform = 'rotate(180deg)';
                } else {
                    detailsContainer.classList.remove('collapsed');
                    this.setAttribute('aria-expanded', 'true');
                    this.childNodes[0].nodeValue = 'Hide Details ';
                    icon.style.transform = 'rotate(0deg)';
                }
            });
        });
    </script>
</body>
</html>
